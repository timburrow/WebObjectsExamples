<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="pt-br" xml:lang="pt-br">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="public" name="security" />
<meta content="index,follow" name="Robots" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta content="reference" name="DC.Type" />
<meta name="DC.Title" content="Instru????o CREATE INDEX" />
<meta content="Instru????o CREATE INDEX" name="DC.subject" />
<meta content="Instru????o CREATE INDEX" name="keywords" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj95081.html" />
<meta scheme="URI" name="DC.Relation" content="rrefcreatefunctionstatement.html" />
<meta scheme="URI" name="DC.Relation" content="rrefcreateprocedurestatement.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj31580.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqljcreatesynonym.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj24513.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj43125.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj15446.html" />
<meta content="XHTML" name="DC.Format" />
<meta content="rrefsqlj20937" name="DC.Identifier" />
<meta content="pt-br" name="DC.Language" />
<link href="/export/home/rh161140/derby/docs/10.2/out/pt_BR/reftemp/commonltr.css" type="text/css" rel="stylesheet" />
<title>Instru????o CREATE INDEX</title>
</head>
<body id="rrefsqlj20937"><a name="rrefsqlj20937"><!-- --></a>


<h1 class="topictitle1">Instru????o CREATE INDEX</h1>


<div>
<div class="section" id="rrefsqlj20937__i1013640"><a name="rrefsqlj20937__i1013640"><!-- --></a>
<p id="rrefsqlj20937__sqlj31027"><a name="rrefsqlj20937__sqlj31027"><!-- --></a>A instru????o CREATE INDEX cria um ??ndice em uma tabela.
Os ??ndices podem incluir uma ou mais colunas da tabela.</p>

</div>

<div class="section"><h4 class="sectiontitle">Sintaxe</h4>

<pre><strong>CREATE [UNIQUE] INDEX <em><a href="rrefindexname.html#rrefindexname">nome-do-??ndice</a></em>
ON <em><a href="rreftablename.html#rreftablename">nome-da-tabela</a></em> ( <em><a href="rrefsimplecolumnname.html#rrefsimplecolumnname">nome-de-coluna-simples</a></em> [ ASC | DESC ]
    [ , <em><a href="rrefsimplecolumnname.html#rrefsimplecolumnname">nome-de-coluna-simples</a></em> [ ASC | DESC ]] * )</strong>
</pre>

<p>No <span>Derby</span>,
o n??mero m??ximo de colunas para chave do ??ndice ?? 16.</p>

<p>O nome do ??ndice n??o pode ter mais que 128 caracteres.</p>

<p>O nome da coluna n??o pode aparecer mais de uma vez na mesma instru????o
CREATE INDEX.
Entretanto, ??ndices diferentes podem incluir a mesma coluna.</p>

<p>O <span>Derby</span>
pode utilizar os ??ndices para melhorar o desempenho das instru????es de
manipula????o de dados
(consulte o <cite><span><em>Ajuste do Derby</em></span></cite>).
Al??m disso, os ??ndices UNIQUE fornecem uma maneira de verificar a integridade
dos dados.</p>

<p>Os nomes dos ??ndices s??o ??nicos no esquema (Alguns sistemas de banco de dados
permitem que tabelas diferentes no mesmo esquema possuam ??ndices com o mesmo
nome, mas o <span>Derby</span> n??o
permite).
?? assumido que a tabela e o ??ndice est??o no mesmo esquema, se o nome do
esquema for especificado para um dos nomes, mas n??o para o outro.
Se o nome do esquema for especificado tanto para o ??ndice quanto para a tabela,
ser?? lan??ada uma exce????o se os nomes dos esquemas n??o forem o mesmo.
Se n??o for especificado o nome do esquema nem para a tabela e nem para o ??ndice,
ser?? utilizado o esquema corrente.</p>

<p>
O <span>Derby</span> utiliza, por padr??o,
a ordem ascendente de cada coluna para criar o ??ndice.
Especificar ASC ap??s o nome da coluna n??o modifica o comportamento padr??o.
A palavra chave DESC ap??s o nome da coluna faz com que o
<span>Derby</span>
utilize a ordem descendente da coluna para criar o ??ndice.
Utilizar a ordem descendente para uma coluna pode ajudar a melhorar o desempenho
dos comandos que requerem resultados em uma ordem de classifica????o mista ou
na ordem descendente, e para os comandos que selecionam o valor m??nimo ou m??ximo
de uma coluna indexada.</p>

<p />

<p>Se for especificado um nome de ??ndice qualificado, o nome do esquema n??o
poder?? come??ar por <samp class="codeph">SYS</samp>.</p>

</div>

<div class="section" id="rrefsqlj20937__sqlj27363"><a name="rrefsqlj20937__sqlj27363"><!-- --></a><h4 class="sectiontitle">??ndices e restri????es</h4>

<p>

As restri????es de unicidade, de chave prim??ria, e de chave estrangeira, geram
??ndices que imp??em, ou "apoiam", a restri????o (por isso, algumas vezes s??o
chamados de <em>??ndices de apoio</em>).
Se uma coluna, ou conjunto de colunas, tiver uma restri????o UNIQUE ou
PRIMARY KEY aplicada, n??o ser?? permitido criar ??ndice com estas colunas.
O <span>Derby</span> j?? ter?? criado um
??ndice com nome gerado pelo sistema.
Os nomes gerados pelo sistema para os ??ndices que apoiam as restri????es
s??o facilmente encontrados consultando as tabelas do sistema, se for
especificado o nome da restri????o.
Por exemplo, para descobrir o nome do ??ndice que apoia a restri????o
PK_V??OS:</p>

<pre><strong>SELECT CONGLOMERATENAME FROM SYS.SYSCONGLOMERATES,
SYS.SYSCONSTRAINTS WHERE
SYS.SYSCONGLOMERATES.TABLEID = SYSCONSTRAINTS.TABLEID
AND CONSTRAINTNAME = 'PK_V??OS'</strong>
</pre>

</div>

<div class="example">
<pre><strong>CREATE INDEX ??NDICE_ORIGEM ON V??OS(AEROPORTO_ORIGEM);
<strong>
-- valores monet??rios s??o geralmente ordenados do maior para o menor,
-- portanto o ??ndice ?? criado na ordem descendente
</strong>
CREATE INDEX PAG_DESC ON SAMP.EMPREGADOS (SAL??RIO);
<span>
-- utilizar um tamanho de p??gina maior para o ??ndice
</span>
CALL SYSCS_UTIL.SYSCS_SET_DATABASE_PROPERTY('derby.storage.pageSize','8192');
CREATE INDEX IDX_VENDAS ON SAMP.VENDAS (VENDAS);
CALL SYSCS_UTIL.SYSCS_SET_DATABASE_PROPERTY('derby.storage.pageSize',NULL);
</strong>
</pre>

</div>

<div class="section"><h4 class="sectiontitle">Tamanho da p??gina e comprimento da chave</h4>

<div class="note"><span class="notetitle">Nota: </span>Em um ??ndice, o tamanho das colunas chave deve ser igual ou menor que a
metade do tamanho da p??gina.
Se o comprimento das colunas chave, de uma linha existente na tabela, for
maior que a metade do tamanho da p??gina do ??ndice, a cria????o do ??ndice para a
tabela com estas colunas chave falhar??.
Este erro somente ocorre ao criar o ??ndice, quando uma linha existente na
tabela n??o respeita este crit??rio.
Ap??s o ??ndice ser criado, as inser????es falham se o tamanho da chave
associada n??o respeitar este crit??rio.</div>

</div>

<div class="section"><h4 class="sectiontitle">Sistema de depend??ncia de instru????es</h4>

<p>As instru????es preparadas envolvendo SELECT, INSERT, UPDATE,
UPDATE WHERE CURRENT, DELETE e DELETE WHERE CURRENT na tabela referenciada
pela instru????o CREATE INDEX s??o invalidadas quando o ??ndice ?? criado.
Os cursores abertos nas tabelas n??o s??o afetados.</p>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>T??pico pai:</strong> <a href="crefsqlj95081.html" title="">Instru????es CREATE</a></div>
</div>
<div class="relref"><strong>Refer??ncias relacionadas</strong><br />
<div><a href="rrefcreatefunctionstatement.html" title="A instru????o CREATE FUNCTION permite criar fun????es Java que podem ser utilizadas em express??es.">Instru????o CREATE FUNCTION</a></div>
<div><a href="rrefcreateprocedurestatement.html" title="">Instru????o CREATE PROCEDURE</a></div>
<div><a href="rrefsqlj31580.html" title="">Instru????o CREATE SCHEMA</a></div>
<div><a href="rrefsqljcreatesynonym.html" title="">Instru????o CREATE SYNONYM</a></div>
<div><a href="rrefsqlj24513.html" title="">Instru????o CREATE TABLE</a></div>
<div><a href="rrefsqlj43125.html" title="">Instru????o CREATE TRIGGER</a></div>
<div><a href="rrefsqlj15446.html" title="">Instru????o CREATE VIEW</a></div>
</div>
</div>

</body>
</html>