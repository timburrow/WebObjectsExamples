<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="pt-br" xml:lang="pt-br">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="public" name="security" />
<meta content="index,follow" name="Robots" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta content="reference" name="DC.Type" />
<meta name="DC.Title" content="Instru????o UPDATE" />
<meta content="UPDATE statement" name="DC.subject" />
<meta content="UPDATE statement" name="keywords" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj39374.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj22771.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj81859.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj95081.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj80721.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqljrenamestatements.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj35312.html" />
<meta scheme="URI" name="DC.Relation" content="rrefcallprocedure.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj13590.html" />
<meta scheme="URI" name="DC.Relation" content="rrefdeclaretemptable.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj35981.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj31783.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj21583.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj32654.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj14854.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj35034.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj40774.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj29840.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj18922.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj40506.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj13658.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj21571.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj57522.html" />
<meta scheme="URI" name="DC.Relation" content="rrefscalarsubquery.html" />
<meta scheme="URI" name="DC.Relation" content="rrefselectexpression.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj41360.html" />
<meta scheme="URI" name="DC.Relation" content="rreftableexpression.html" />
<meta scheme="URI" name="DC.Relation" content="rreftablesubquery.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj11277.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj33602.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj15309.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj76354.html" />
<meta content="XHTML" name="DC.Format" />
<meta content="rrefsqlj26498" name="DC.Identifier" />
<meta content="pt-br" name="DC.Language" />
<link href="/export/home/rh161140/derby/docs/10.2/out/pt_BR/reftemp/commonltr.css" type="text/css" rel="stylesheet" />
<title>Instru????o UPDATE</title>
</head>
<body id="rrefsqlj26498"><a name="rrefsqlj26498"><!-- --></a>


<h1 class="topictitle1">Instru????o UPDATE</h1>


<div>
<div class="section">
<p>A instru????o UPDATE define o valor na coluna.</p>

<p>Pode ser atualizada a linha corrente de um cursor atualiz??vel aberto.
Se n??o houver linha corrente, ou a linha corrente n??o satisfizer mais a
consulta do cursor, ser?? lan??ada um exce????o.</p>

</div>

<div class="section"><h4 class="sectiontitle">Sintaxe</h4>

<pre><strong>{
    UPDATE <em><a href="rreftablename.html#rreftablename">nome-da-tabela</a></em>
        SET <em><a href="rrefcolumnname.html#rrefcolumnname">nome-da-coluna</a></em> = <em><a href="rrefsqlj76354.html#rrefsqlj76354">Valor</a></em>
        [ , <em><a href="rrefcolumnname.html#rrefcolumnname">nome-da-coluna</a></em> = <em><a href="rrefsqlj76354.html#rrefsqlj76354">Valor</a></em>} ]*
        [<em><a href="rrefsqlj33602.html#rrefsqlj33602">Cl??usula WHERE</a></em>] |
    UPDATE <em><a href="rreftablename.html#rreftablename">nome-da-tabela</a></em>
        SET <em><a href="rrefcolumnname.html#rrefcolumnname">nome-da-coluna</a></em> = <em><a href="rrefsqlj76354.html#rrefsqlj76354">Valor</a></em>
        [ , <em><a href="rrefcolumnname.html#rrefcolumnname">nome-da-coluna</a></em> = <em><a href="rrefsqlj76354.html#rrefsqlj76354">Valor</a></em> ]*
        <em><a href="rrefsqlj15309.html#rrefsqlj15309">WHERE CURRENT OF</a></em>
}</strong>
</pre>

<p>A primeira forma sint??tica ?? chamada de atualiza????o procurada.
A segunda forma sint??tica ?? chamada de atualiza????o posicionada.</p>

<p>Nas atualiza????es procuradas, s??o atualizadas todas as linhas da tabela para
as quais a cl??usula WHERE ?? avaliada como TRUE.</p>

<p>Nas atualiza????es posicionadas, somente podem ser atualizadas as colunas
inclu??das na
<a href="rrefsqlj31783.html#rrefsqlj31783">Cl??usula FOR UPDATE</a>
da instru????o SELECT que criou o cursor.
Se a instru????o SELECT n??o incluir a cl??usula FOR UPDATE, o cursor ser??
apenas-de-leitura, n??o podendo ser utilizado para atualiza????es.</p>

<p>A especifica????o de DEFAULT para o valor atualizado, define o valor da coluna
como o valor padr??o definido nesta tabela.</p>

</div>

<div class="example"> <pre><strong><span>-- Todos os empregados, exceto o gerente,
-- do departamento (DEP_TRAB) 'E21' foram temporariamente
-- reatribu??dos. Indique isto alterando seus cargos (CARGO)
-- para NULL, e os valores de seus pagamentos (SAL??RIO, B??NUS, COMISS)
-- para zero, na tabela EMPREGADOS.</span>
UPDATE EMPREGADOS
  SET CARGO=NULL, SAL??RIO=0, B??NUS=0, COMISS=0
  WHERE DEP_TRAB = 'E21' AND CARGO &lt;&gt; 'GERENTE'

-- Promover o cargo (CARGO) de determinado empregado para GERENTE
UPDATE EMPREGADOS
        SET CARGO = 'GERENTE'
        WHERE CURRENT OF CURS1;

<span>-- Multiplicar a equipe do projeto (PROJ_EQUIPE) por 1.5</span>
stmt.executeUpdate("UPDATE PROJETO SET PROJ_EQUIPE = "
"PROJ_EQUIPE * 1.5" +
"WHERE CURRENT OF" + ResultSet.getCursorName());

<span>-- Alterar o cargo (CARGO) do empregado n??mero (NUM_EMP) '000290'
-- na tabela EMPREGADOS para o seu valor DEFAULT que ?? NULL</span>
UPDATE EMPREGADOS
  SET CARGO = DEFAULT
  WHERE NUM_EMP = '000290';
</strong>
</pre>

</div>

<div class="section"><h4 class="sectiontitle">Sistema de depend??ncia de instru????o</h4>

<p>A instru????o de atualiza????o procurada depende da tabela sendo atualizada, de
todos os seus conglomerados (unidades de armazenamento como <em>heaps</em> e
??ndices), todas as suas restri????es, e de todas as outras tabelas referenciadas
na cl??usula WHERE e nas express??es SET.
A execu????o de uma instru????o CREATE ou DROP INDEX, ou de uma instru????o
ALTER TABLE, na tabela de destino de uma instru????o de atualiza????o procurada
preparada, invalida a instru????o de atualiza????o procurada preparada.</p>

<p>A instru????o de atualiza????o posicionada depende do cursor e de todas as
tabelas que o cursor faz refer??ncia.
A atualiza????o posicionada pode ser compilada mesmo se o cursor ainda n??o tiver
sido aberto.
Entretanto, a remo????o do cursor aberto atrav??s do m??todo <em>close</em> do JDBC
invalida a atualiza????o posicionada.</p>

<p>A execu????o de uma instru????o CREATE ou DROP INDEX, ou de uma instru????o
ALTER TABLE, na tabela de destino de uma instru????o de atualiza????o posicionada
preparada, invalida a instru????o de atualiza????o posicionada preparada.</p>

<p>A remo????o de um ali??s invalida a instru????o de atualiza????o preparada, se a
instru????o utilizar o ali??s.</p>

<p>Remover ou adicionar gatilhos na tabela de destino da atualiza????o
invalida a instru????o de atualiza????o.</p>

</div>

</div>

<div>
<ul class="ullinks">
<li class="ulchildlink"><strong><a href="rrefsqlj76354.html">Valor</a></strong><br />
</li>
</ul>

<div class="familylinks">
<div class="parentlink"><strong>T??pico pai:</strong> <a href="crefsqlj39374.html" title="">Instru????es</a></div>
</div>
<div class="relconcepts"><strong>Conceitos relacionados</strong><br />
<div><a href="crefsqlj22771.html" title="">Intera????o com o sistema de depend??ncias</a></div>
<div><a href="crefsqlj95081.html" title="">Instru????es CREATE</a></div>
<div><a href="crefsqlj80721.html" title="">Instru????es DROP</a></div>
<div><a href="crefsqljrenamestatements.html" title="">Instru????es RENAME</a></div>
<div><a href="crefsqlj35312.html" title="">Instru????es SET</a></div>
</div>
<div class="relref"><strong>Refer??ncias relacionadas</strong><br />
<div><a href="rrefsqlj81859.html" title="">Instru????o ALTER TABLE</a></div>
<div><a href="rrefcallprocedure.html" title="">CALL (PROCEDIMENTO)</a></div>
<div><a href="rrefsqlj13590.html" title="">Cl??usula CONSTRAINT</a></div>
<div><a href="rrefdeclaretemptable.html" title="">Instru????o DECLARE GLOBAL TEMPORARY TABLE</a></div>
<div><a href="rrefsqlj35981.html" title="">Instru????o DELETE</a></div>
<div><a href="rrefsqlj31783.html" title="">Cl??usula FOR UPDATE</a></div>
<div><a href="rrefsqlj21583.html" title="">Cl??usula FROM</a></div>
<div><a href="rrefsqlj32654.html" title="">Cl??usula GROUP BY</a></div>
<div><a href="rrefsqlj14854.html" title="">Cl??usula HAVING</a></div>
<div><a href="rrefsqlj35034.html" title="">INNER JOIN</a></div>
<div><a href="rrefsqlj40774.html" title="">Instru????o INSERT</a></div>
<div><a href="rrefsqlj29840.html" title="">Opera????o JOIN</a></div>
<div><a href="rrefsqlj18922.html" title="">LEFT OUTER JOIN</a></div>
<div><a href="rrefsqlj40506.html" title="">Instru????o LOCK TABLE</a></div>
<div><a href="rrefsqlj13658.html" title="">Cl??usula ORDER BY</a></div>
<div><a href="rrefsqlj21571.html" title="">Consulta</a></div>
<div><a href="rrefsqlj57522.html" title="">RIGHT OUTER JOIN</a></div>
<div><a href="rrefscalarsubquery.html" title="">SubconsultaEscalar</a></div>
<div><a href="rrefselectexpression.html" title="">Express??oSele????o</a></div>
<div><a href="rrefsqlj41360.html" title="">Instru????o SELECT</a></div>
<div><a href="rreftableexpression.html" title="">Express??oTabela</a></div>
<div><a href="rreftablesubquery.html" title="">SubconsultaTabela</a></div>
<div><a href="rrefsqlj11277.html" title="">VALUES Express??o</a></div>
<div><a href="rrefsqlj33602.html" title="">Cl??usula WHERE</a></div>
<div><a href="rrefsqlj15309.html" title="">Cl??usula WHERE CURRENT OF</a></div>
</div>
</div>

</body>
</html>