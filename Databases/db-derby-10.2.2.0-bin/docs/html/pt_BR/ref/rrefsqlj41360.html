<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="pt-br" xml:lang="pt-br">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="public" name="security" />
<meta content="index,follow" name="Robots" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta content="reference" name="DC.Type" />
<meta name="DC.Title" content="Instru????o SELECT" />
<meta content="Instru????o SELECT, Cl??usula ORDER BY, necess??ria para garantir a ordem dos resultados" name="DC.subject" />
<meta content="Instru????o SELECT, Cl??usula ORDER BY, necess??ria para garantir a ordem dos resultados" name="keywords" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj39374.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj22771.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj81859.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj95081.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj80721.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqljrenamestatements.html" />
<meta scheme="URI" name="DC.Relation" content="crefsqlj35312.html" />
<meta scheme="URI" name="DC.Relation" content="rrefcallprocedure.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj13590.html" />
<meta scheme="URI" name="DC.Relation" content="rrefdeclaretemptable.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj35981.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj31783.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj21583.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj32654.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj14854.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj35034.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj40774.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj29840.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj18922.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj40506.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj13658.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj21571.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj57522.html" />
<meta scheme="URI" name="DC.Relation" content="rrefscalarsubquery.html" />
<meta scheme="URI" name="DC.Relation" content="rrefselectexpression.html" />
<meta scheme="URI" name="DC.Relation" content="rreftableexpression.html" />
<meta scheme="URI" name="DC.Relation" content="rreftablesubquery.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj26498.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj11277.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj33602.html" />
<meta scheme="URI" name="DC.Relation" content="rrefsqlj15309.html" />
<meta content="XHTML" name="DC.Format" />
<meta content="rrefsqlj41360" name="DC.Identifier" />
<meta content="pt-br" name="DC.Language" />
<link href="/export/home/rh161140/derby/docs/10.2/out/pt_BR/reftemp/commonltr.css" type="text/css" rel="stylesheet" />
<title>Instru????o SELECT</title>
</head>
<body id="rrefsqlj41360"><a name="rrefsqlj41360"><!-- --></a>


<h1 class="topictitle1">Instru????o SELECT</h1>


<div>
<div class="section">
<p>A instru????o SELECT consiste de uma consulta com uma
<a href="rrefsqlj13658.html#rrefsqlj13658">Cl??usula ORDER BY</a> opcional,
e uma <a href="rrefsqlj31783.html#rrefsqlj31783">Cl??usula FOR UPDATE</a>
opcional.
A instru????o SELECT possui este nome porque tipicamente a primeira palavra da
constru????o da consulta ?? SELECT (A <em>consulta </em> inclui a express??o VALUES,
as express??es UNION, INTERSECT e EXCEPT, al??m de express??es SELECT).</p>

<p>A <a href="rrefsqlj13658.html#rrefsqlj13658">Cl??usula ORDER BY</a>
garante a ordem do <em>ResultSet</em>.
A <a href="rrefsqlj31783.html#rrefsqlj31783">Cl??usula FOR UPDATE</a>
torna o resultado um cursor atualiz??vel.
A instru????o SELECT suporta a cl??usula FOR FETCH ONLY.
A cl??usula FOR FETCH ONLY ?? sin??nimo da cl??usula FOR READ ONLY.</p>

<div class="remember"><span class="remembertitle">Lembre-se: </span>Para se obter um <em>ResultSet</em> atualiz??vel, deve ser
inclu??da a cl??usula FOR UPDATE com a cl??usula SELECT.</div>

</div>

<div class="section"><h4 class="sectiontitle">Sintaxe</h4>

<pre><strong><em><a href="rrefsqlj21571.html#rrefsqlj21571">Consulta</a></em>
[<em><a href="rrefsqlj13658.html#rrefsqlj13658">Cl??usula ORDER BY</a></em>]
[<em><a href="rrefsqlj31783.html#rrefsqlj31783">Cl??usula FOR UPDATE</a></em>]
WITH {RR|RS|CS|UR}</strong>
</pre>

<p>Pode ser definido o n??vel de isolamento da instru????o SELECT utilizando
a sintaxe WITH {RR|RS|CS|UR}.</p>

</div>

<div class="example">
<pre><strong><span>-- listar o nome da express??o SAL??RIO+B??NUS+COMISS
-- como PAGAMENTO_TOTAL,
-- e ordenar pelo novo nome PAGAMENTO_TOTAL</span>
SELECT PRIMEIRO_NOME, SAL??RIO+B??NUS+COMISS AS PAGAMENTO_TOTAL
FROM EMPREGADOS
ORDER BY PAGAMENTO_TOTAL;

<span>-- criar um cursor atualiz??vel atrav??s da cl??usula FOR UPDATE
-- para atualizar as colunas data de in??cio (PROJ_DATA_IN??CIO) e
-- data de t??rmino (PROJ_DATA_FIM) da tabela PROJETO</span>
SELECT NUM_PROJ, PROJ_DATA_IN??CIO, PROJ_DATA_FIM
FROM PROJETO
FOR UPDATE OF PROJ_DATA_IN??CIO, PROJ_DATA_FIM;

<span>-- definir o n??vel de isolamento como RR apenas para esta instru????o</span>
SELECT *
FROM V??OS
WHERE ID_V??O BETWEEN 'AA1111' AND 'AA1112'
WITH RR;</strong>
</pre>

<div class="p">A instru????o SELECT retorna um <em>ResultSet</em>.
O <em>cursor</em> ?? um ponteiro para uma linha espec??fica do <em>ResultSet</em>.
Nos aplicativos Java, todos os <em>ResultSets</em> s??o cursores.
O cursor ?? atualiz??vel, ou seja, podem ser atualizadas e exclu??das linhas ao
se caminhar atrav??s do <em>ResultSet</em>, se a instru????o SELECT que gerou o
cursor e sua consulta subjacente atenderem aos requisitos de poder ser
atualiz??vel, conforme detalhado abaixo.
Deve ser utilizada a cl??usula FOR UPDATE quando se deseja gerar um cursor
atualiz??vel.
<div class="note"><span class="notetitle">Nota: </span>A cl??usula ORDER BY permite ordenar os resultados do SELECT.
Sem a cl??usula ORDER BY, os resultados s??o retornados em ordem aleat??ria.</div>

</div>

<p>Se a instru????o SELECT atender aos requisitos listados abaixo, os cursores
ser??o atualiz??veis apenas se for especificado FOR UPDATE na cl??usula FOR
(consulte a <a href="rrefsqlj31783.html#rrefsqlj31783">Cl??usula FOR UPDATE</a>).</p>

</div>

<div class="section" id="rrefsqlj41360__sqlj15384"><a name="rrefsqlj41360__sqlj15384"><!-- --></a><h4 class="sectiontitle">Requisitos para cursores atualiz??veis e ResultSets atualiz??veis</h4>

<div class="p">Somente os cursores simples, com SELECT em uma ??nica tabela, e os
<em>ResultSets</em> FORWARD_ONLY, podem ser atualiz??veis.
A instru????o SELECT para <em>ResultSet</em> atualiz??vel possui a mesma sintaxe
que a instru????o SELECT para cursor atualiz??vel.
Para gerar cursores atualiz??veis:
<ul>
<li>A instru????o SELECT n??o pode incluir a cl??usula ORDER BY.</li>

<li>A <em>Consulta</em> subjacente deve ser uma
<em><a href="rrefselectexpression.html#rrefselectexpression">Express??oSele????o</a>.</em></li>

<li>A <em><a href="rrefselectexpression.html#rrefselectexpression">Express??oSele????o</a></em>
da Consulta subjacente n??o pode incluir:
<ul>
<li>DISTINCT</li>

<li>Agrega????es</li>

<li>Cl??usula GROUP BY</li>

<li>Cl??usula HAVING</li>

</ul>

</li>

<li>A cl??usula FROM na <em>Consulta</em> subjacente n??o pode ter:
<ul>
<li>mais de uma tabela</li>

<li>qualquer outra coisa al??m de um nome de tabela</li>

<li><em><a href="rrefselectexpression.html#rrefselectexpression">Express??oSele????o</a></em></li>

<li>subconsultas</li>

</ul>

</li>

</ul>

</div>

<p>N??o existe instru????o na linguagem SQL para <em>atribuir</em> nome a um
cursor.
Em vez disso, deve ser utilizada a API do JDBC para atribuir nomes a cursores
ou obter os nomes gerados pelo sistema.
Para obter mais informa????es, deve ser consultado "Atribuir nome ou acessar o
nome do cursor" no cap??tulo 5 do
<cite><span><em>Guia do Desenvolvedor do Derby</em></span></cite>.</p>

<p>Os cursores s??o apenas-de-leitura por padr??o.
Para um cursor ser atualiz??vel, deve ser especificado FOR UPDATE na cl??usula
FOR (consulte a <a href="rrefsqlj31783.html#rrefsqlj31783">Cl??usula FOR UPDATE</a>).</p>

</div>

<div class="section"><h4 class="sectiontitle">Sistema de depend??ncia de instru????o</h4>

<p>A instru????o SELECT depende de todas as tabelas e vis??es especificadas na
consulta, e dos conglomerados (unidades de armazenamento, como <em>heaps</em> e
??ndices) escolhidos como caminho de acesso para estas tabelas.
A instru????o CREATE INDEX n??o invalida a instru????o SELECT preparada.
A instru????o DROP INDEX invalida a instru????o SELECT preparada, se o ??ndice for
um caminho de acesso na instru????o.
Quando o SELECT inclui vis??es, tamb??m depende dos objetos do dicion??rio dos
quais as vis??es dependem (consulte a
<a href="rrefsqlj15446.html#rrefsqlj15446">Instru????o CREATE VIEW</a>).</p>

<p>Toda instru????o UPDATE WHERE CURRENT ou DELETE WHERE CURRENT preparada
sobre cursor de SELECT depende do SELECT.
A remo????o do SELECT atrav??s de uma instru????o <em>java.sql.Statement.close</em>
invalida UPDATE WHERE CURRENT e DELETE WHERE CURRENT.</p>

<p>O SELECT depende de todos os aliases utilizados na consulta.
Remover um ali??s invalida a instru????o SELECT preparada, se a instru????o utilizar
o ali??s.</p>

</div>

</div>

<div>
<div class="familylinks">
<div class="parentlink"><strong>T??pico pai:</strong> <a href="crefsqlj39374.html" title="">Instru????es</a></div>
</div>
<div class="relconcepts"><strong>Conceitos relacionados</strong><br />
<div><a href="crefsqlj22771.html" title="">Intera????o com o sistema de depend??ncias</a></div>
<div><a href="crefsqlj95081.html" title="">Instru????es CREATE</a></div>
<div><a href="crefsqlj80721.html" title="">Instru????es DROP</a></div>
<div><a href="crefsqljrenamestatements.html" title="">Instru????es RENAME</a></div>
<div><a href="crefsqlj35312.html" title="">Instru????es SET</a></div>
</div>
<div class="relref"><strong>Refer??ncias relacionadas</strong><br />
<div><a href="rrefsqlj81859.html" title="">Instru????o ALTER TABLE</a></div>
<div><a href="rrefcallprocedure.html" title="">CALL (PROCEDIMENTO)</a></div>
<div><a href="rrefsqlj13590.html" title="">Cl??usula CONSTRAINT</a></div>
<div><a href="rrefdeclaretemptable.html" title="">Instru????o DECLARE GLOBAL TEMPORARY TABLE</a></div>
<div><a href="rrefsqlj35981.html" title="">Instru????o DELETE</a></div>
<div><a href="rrefsqlj31783.html" title="">Cl??usula FOR UPDATE</a></div>
<div><a href="rrefsqlj21583.html" title="">Cl??usula FROM</a></div>
<div><a href="rrefsqlj32654.html" title="">Cl??usula GROUP BY</a></div>
<div><a href="rrefsqlj14854.html" title="">Cl??usula HAVING</a></div>
<div><a href="rrefsqlj35034.html" title="">INNER JOIN</a></div>
<div><a href="rrefsqlj40774.html" title="">Instru????o INSERT</a></div>
<div><a href="rrefsqlj29840.html" title="">Opera????o JOIN</a></div>
<div><a href="rrefsqlj18922.html" title="">LEFT OUTER JOIN</a></div>
<div><a href="rrefsqlj40506.html" title="">Instru????o LOCK TABLE</a></div>
<div><a href="rrefsqlj13658.html" title="">Cl??usula ORDER BY</a></div>
<div><a href="rrefsqlj21571.html" title="">Consulta</a></div>
<div><a href="rrefsqlj57522.html" title="">RIGHT OUTER JOIN</a></div>
<div><a href="rrefscalarsubquery.html" title="">SubconsultaEscalar</a></div>
<div><a href="rrefselectexpression.html" title="">Express??oSele????o</a></div>
<div><a href="rreftableexpression.html" title="">Express??oTabela</a></div>
<div><a href="rreftablesubquery.html" title="">SubconsultaTabela</a></div>
<div><a href="rrefsqlj26498.html" title="">Instru????o UPDATE</a></div>
<div><a href="rrefsqlj11277.html" title="">VALUES Express??o</a></div>
<div><a href="rrefsqlj33602.html" title="">Cl??usula WHERE</a></div>
<div><a href="rrefsqlj15309.html" title="">Cl??usula WHERE CURRENT OF</a></div>
</div>
</div>

</body>
</html>